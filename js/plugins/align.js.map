/*!
 * froala_editor v3.2.5 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2020 Froala Labs
 */

{"version":3,"file":"align.js","sources":["../../../src/js/plugins/align.js"],"sourcesContent":["import FE from '../index.js'\n'use strict';\n\nFE.PLUGINS.align = function (editor) {\n\n  const { $ } =  editor\n\n  function apply(val) {\n\n    const el = editor.selection.element()\n\n    if ($(el).parents('.fr-img-caption').length) {\n      $(el).css('text-align', val)\n    }\n    else {\n      // Wrap.\n      editor.selection.save()\n      editor.html.wrap(true, true, true, true)\n      editor.selection.restore()\n\n      const blocks = editor.selection.blocks()\n\n      for (let i = 0; i < blocks.length; i++) {\n\n        // https://github.com/froala-labs/froala-editor-js-2/issues/674\n\n        $(blocks[i]).css('text-align', val).removeClass('fr-temp-div')\n\n        if ($(blocks[i]).attr('class') === '') $(blocks[i]).removeAttr('class')\n\n        if ($(blocks[i]).attr('style') === '') $(blocks[i]).removeAttr('style')\n      }\n\n      editor.selection.save()\n      editor.html.unwrap()\n      editor.selection.restore()\n    }\n  }\n\n  function refresh($btn) {\n    const blocks = editor.selection.blocks()\n\n    if (blocks.length) {\n      const alignment = editor.helpers.getAlignment($(blocks[0]))\n\n      $btn.find('> *').first().replaceWith(editor.icon.create(`align-${alignment}`))\n    }\n  }\n\n  function refreshOnShow($btn, $dropdown) {\n    const blocks = editor.selection.blocks()\n\n    if (blocks.length) {\n      const alignment = editor.helpers.getAlignment($(blocks[0]))\n\n      $dropdown.find(`a.fr-command[data-param1=\"${alignment}\"]`).addClass('fr-active').attr('aria-selected', true)\n    }\n  }\n\n  function refreshForToolbar($btn) {\n    const blocks = editor.selection.blocks()\n\n    if (blocks.length) {\n      let alignment = editor.helpers.getAlignment($(blocks[0]))\n\n      // Capitalize.\n      alignment = alignment.charAt(0).toUpperCase() + alignment.slice(1)\n\n      if (`align${alignment}` === $btn.attr('data-cmd')) {\n        $btn.addClass('fr-active')\n      }\n    }\n  }\n\n  return {\n    apply: apply,\n    refresh: refresh,\n    refreshOnShow: refreshOnShow,\n    refreshForToolbar: refreshForToolbar\n  }\n}\n\nFE.DefineIcon('align', { NAME: 'align-left', SVG_KEY: 'alignLeft' })\nFE.DefineIcon('align-left', { NAME: 'align-left', SVG_KEY: 'alignLeft' })\nFE.DefineIcon('align-right', { NAME: 'align-right', SVG_KEY: 'alignRight' })\nFE.DefineIcon('align-center', { NAME: 'align-center', SVG_KEY: 'alignCenter' })\nFE.DefineIcon('align-justify', { NAME: 'align-justify', SVG_KEY: 'alignJustify' })\nFE.RegisterCommand('align', {\n  type: 'dropdown',\n  title: 'Align',\n  options: {\n    left: 'Align Left',\n    center: 'Align Center',\n    right: 'Align Right',\n    justify: 'Align Justify'\n  },\n  html: function () {\n    let c = '<ul class=\"fr-dropdown-list\" role=\"presentation\">'\n    const { options } = FE.COMMANDS.align\n\n    for (const val in options) {\n      if (options.hasOwnProperty(val)) {\n        c += `<li role=\"presentation\"><a class=\"fr-command fr-title\" tabIndex=\"-1\" role=\"option\" data-cmd=\"align\"data-param1=\"\n        ${val}\" title=\"${this.language.translate(options[val])}\">${this.icon.create(`align-${val}`)}<span class=\"fr-sr-only\">\n        ${this.language.translate(options[val])}</span></a></li>`\n      }\n    }\n    c += '</ul>'\n\n    return c\n  },\n  callback: function (cmd, val) {\n    this.align.apply(val)\n  },\n  refresh: function ($btn) {\n    this.align.refresh($btn)\n  },\n  refreshOnShow: function ($btn, $dropdown) {\n    this.align.refreshOnShow($btn, $dropdown)\n  },\n  plugin: 'align'\n})\n\nFE.RegisterCommand('alignLeft', {\n  type: 'button',\n  icon: 'align-left',\n  title: 'Align Left',\n  callback: function () {\n    this.align.apply('left')\n  },\n  refresh: function ($btn) {\n    this.align.refreshForToolbar($btn)\n  },\n  plugin: 'align'\n})\n\nFE.RegisterCommand('alignRight', {\n  type: 'button',\n  icon: 'align-right',\n  title: 'Align Right',\n  callback: function () {\n    this.align.apply('right')\n  },\n  refresh: function ($btn) {\n    this.align.refreshForToolbar($btn)\n  },\n  plugin: 'align'\n})\n\nFE.RegisterCommand('alignCenter', {\n  type: 'button',\n  icon: 'align-center',\n  title: 'Align Center',\n  callback: function () {\n    this.align.apply('center')\n  },\n  refresh: function ($btn) {\n    this.align.refreshForToolbar($btn)\n  },\n  plugin: 'align'\n})\n\nFE.RegisterCommand('alignJustify', {\n  type: 'button',\n  icon: 'align-justify',\n  title: 'Align Justify',\n  callback: function () {\n    this.align.apply('justify')\n  },\n  refresh: function ($btn) {\n    this.align.refreshForToolbar($btn)\n  },\n  plugin: 'align'\n})\n"],"names":["FE","PLUGINS","align","editor","$","apply","val","el","selection","element","parents","length","css","save","html","wrap","restore","blocks","i","removeClass","attr","removeAttr","unwrap","refresh","$btn","alignment","helpers","getAlignment","find","first","replaceWith","icon","create","refreshOnShow","$dropdown","addClass","refreshForToolbar","charAt","toUpperCase","slice","DefineIcon","NAME","SVG_KEY","RegisterCommand","type","title","options","left","center","right","justify","c","COMMANDS","hasOwnProperty","language","translate","callback","cmd","plugin"],"mappings":"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"}