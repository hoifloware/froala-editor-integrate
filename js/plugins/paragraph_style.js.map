/*!
 * froala_editor v3.2.5 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2020 Froala Labs
 */

{"version":3,"file":"paragraph_style.js","sources":["../../../src/js/plugins/paragraph_style.js"],"sourcesContent":["import FE from '../index.js'\n'use strict';\n\nObject.assign(FE.DEFAULTS, {\n  paragraphStyles: {\n    'fr-text-gray': 'Gray',\n    'fr-text-bordered': 'Bordered',\n    'fr-text-spaced': 'Spaced',\n    'fr-text-uppercase': 'Uppercase'\n  },\n  paragraphMultipleStyles: true\n})\n\nFE.PLUGINS.paragraphStyle = function (editor) {\n  const { $ } = editor\n  /**\n   * Apply style.\n   */\n  function apply(val, paragraphStyles, paragraphMultipleStyles) {\n    if (typeof paragraphStyles === 'undefined') paragraphStyles = editor.opts.paragraphStyles\n\n    if (typeof paragraphMultipleStyles === 'undefined') paragraphMultipleStyles = editor.opts.paragraphMultipleStyles\n\n    let styles = ''\n\n    // Remove multiple styles.\n    if (!paragraphMultipleStyles) {\n      styles = Object.keys(paragraphStyles)\n      styles.splice(styles.indexOf(val), 1)\n      styles = styles.join(' ')\n    }\n    editor.selection.save()\n    editor.html.wrap(true, true, true, true)\n    editor.selection.restore()\n\n    const blocks = editor.selection.blocks()\n\n    // Save selection to restore it later.\n    editor.selection.save()\n\n    const hasClass = $(blocks[0]).hasClass(val)\n\n    for (let i = 0; i < blocks.length; i++) {\n      $(blocks[i]).removeClass(styles).toggleClass(val, !hasClass)\n\n      if ($(blocks[i]).hasClass('fr-temp-div')) $(blocks[i]).removeClass('fr-temp-div')\n\n      if ($(blocks[i]).attr('class') === '') $(blocks[i]).removeAttr('class')\n    }\n\n    // Unwrap temp divs.\n    editor.html.unwrap()\n\n    // Restore selection.\n    editor.selection.restore()\n  }\n\n  function refreshOnShow($btn, $dropdown) {\n    const blocks = editor.selection.blocks()\n\n    if (blocks.length) {\n      const $blk = $(blocks[0])\n\n      $dropdown.find('.fr-command').each(function () {\n        const cls = $(this).data('param1')\n        const active = $blk.hasClass(cls)\n        $(this).toggleClass('fr-active', active).attr('aria-selected', active)\n      })\n    }\n  }\n\n  const _init = () => {\n  }\n\n  return {\n    _init: _init,\n    apply: apply,\n    refreshOnShow: refreshOnShow\n  }\n}\n\n// Register the font size command.\nFE.RegisterCommand('paragraphStyle', {\n  type: 'dropdown',\n  html: function () {\n    let c = '<ul class=\"fr-dropdown-list\" role=\"presentation\">'\n    const { paragraphStyles : options } = this.opts\n\n    for (const val in options) {\n      if (options.hasOwnProperty(val)) {\n        c += `<li role=\"presentation\"><a class=\"fr-command ${val}\" tabIndex=\"-1\" role=\"option\" data-cmd=\"paragraphStyle\" data-param1=\"${val}\" title=\"${this.language.translate(options[val])}\">${this.language.translate(options[val])}</a></li>`\n      }\n    }\n    c += '</ul>'\n\n    return c\n  },\n  title: 'Paragraph Style',\n  callback: function (cmd, val) {\n    this.paragraphStyle.apply(val)\n  },\n  refreshOnShow: function ($btn, $dropdown) {\n    this.paragraphStyle.refreshOnShow($btn, $dropdown)\n  },\n  plugin: 'paragraphStyle'\n})\n\n// Add the font size icon.\nFE.DefineIcon('paragraphStyle', {\n  NAME: 'magic',\n  SVG_KEY: 'paragraphStyle'\n})\n"],"names":["Object","assign","FE","DEFAULTS","paragraphStyles","paragraphMultipleStyles","PLUGINS","paragraphStyle","editor","$","apply","val","opts","styles","keys","splice","indexOf","join","selection","save","html","wrap","restore","blocks","hasClass","i","length","removeClass","toggleClass","attr","removeAttr","unwrap","refreshOnShow","$btn","$dropdown","$blk","find","each","cls","data","active","_init","RegisterCommand","type","c","options","hasOwnProperty","language","translate","title","callback","cmd","plugin","DefineIcon","NAME","SVG_KEY"],"mappings":"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"}