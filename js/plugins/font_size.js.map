/*!
 * froala_editor v3.2.5 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2020 Froala Labs
 */

{"version":3,"file":"font_size.js","sources":["../../../src/js/plugins/font_size.js"],"sourcesContent":["import FE from '../index.js'\n'use strict';\n\n// Extend defaults.\nObject.assign(FE.DEFAULTS, {\n  fontSize: ['8', '9', '10', '11', '12', '14', '18', '24', '30', '36', '48', '60', '72', '96'],\n  fontSizeSelection: false,\n  fontSizeDefaultSelection: '12',\n  fontSizeUnit: 'px'\n})\n\nFE.PLUGINS.fontSize = function (editor) {\n\n  const { $ } = editor\n\n  function apply(val) {\n    editor.format.applyStyle('font-size', val)\n  }\n\n  function refreshOnShow($btn, $dropdown) {\n    let val = $(editor.selection.element()).css('font-size')\n\n    if (editor.opts.fontSizeUnit === 'pt') {\n      val = `${Math.round(parseFloat(val, 10) * 72 / 96)}pt`\n    }\n\n    $dropdown.find('.fr-command.fr-active').removeClass('fr-active').attr('aria-selected', false)\n    $dropdown.find(`.fr-command[data-param1=\"${val}\"]`).addClass('fr-active').attr('aria-selected', true)\n  }\n\n  function refresh($btn) {\n    if (editor.opts.fontSizeSelection) {\n      let val = editor.helpers.getPX($(editor.selection.element()).css('font-size'))\n\n      if (editor.opts.fontSizeUnit === 'pt') {\n        val = `${Math.round(parseFloat(val, 10) * 72 / 96)}pt`\n      }\n\n      $btn.find('> span').text(val)\n    }\n  }\n\n  return {\n    apply: apply,\n    refreshOnShow: refreshOnShow,\n    refresh: refresh\n  }\n}\n\n// Register the font size command.\nFE.RegisterCommand('fontSize', {\n  type: 'dropdown',\n  title: 'Font Size',\n  displaySelection: function (editor) {\n    return editor.opts.fontSizeSelection\n  },\n  displaySelectionWidth: 30,\n  defaultSelection: function (editor) {\n    return editor.opts.fontSizeDefaultSelection\n  },\n  html: function () {\n    let c = '<ul class=\"fr-dropdown-list\" role=\"presentation\">'\n    const { fontSize : options } = this.opts\n\n    for (let i = 0; i < options.length; i++) {\n      const val = options[i]\n      c += `<li role=\"presentation\"><a class=\"fr-command\" tabIndex=\"-1\" role=\"option\" data-cmd=\"fontSize\" data-param1=\"${val}${this.opts.fontSizeUnit}\" title=\"${val}\">${val}</a></li>`\n    }\n    c += '</ul>'\n\n    return c\n  },\n  callback: function (cmd, val) {\n    this.fontSize.apply(val)\n  },\n  refresh: function ($btn) {\n    this.fontSize.refresh($btn)\n  },\n  refreshOnShow: function ($btn, $dropdown) {\n    this.fontSize.refreshOnShow($btn, $dropdown)\n  },\n  plugin: 'fontSize'\n})\n\n// Add the font size icon.\nFE.DefineIcon('fontSize', {\n  NAME: 'text-height',\n  SVG_KEY: 'fontSize'\n})\n"],"names":["Object","assign","FE","DEFAULTS","fontSize","fontSizeSelection","fontSizeDefaultSelection","fontSizeUnit","PLUGINS","editor","$","apply","val","format","applyStyle","refreshOnShow","$btn","$dropdown","selection","element","css","opts","Math","round","parseFloat","find","removeClass","attr","addClass","refresh","helpers","getPX","text","RegisterCommand","type","title","displaySelection","displaySelectionWidth","defaultSelection","html","c","options","i","length","callback","cmd","plugin","DefineIcon","NAME","SVG_KEY"],"mappings":"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"}